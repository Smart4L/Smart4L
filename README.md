# Smart4L 
[![Open Source? Yes!](https://badgen.net/badge/Open%20Source%20%3F/Yes%21/blue?icon=github)](https://github.com/smart4l/smart4l/)
[![Sprint](https://img.shields.io/static/v1?label=Sprint&message=1&color=success)](#sprint)
[![GitHub pull-requests](https://img.shields.io/github/issues-pr/smart4l/smart4l)](https://GitHub.com/smart4l/smart4l/pulls)
[![GitHub issues](https://img.shields.io/github/issues/smart4l/smart4l)](https://GitHub.com/smart4l/smart4l/issues/)
[![GitHub contributors](https://img.shields.io/github/contributors/smart4l/smart4l)](https://GitHub.com/smart4l/smart4l/contributors/)
[![ViewCount](https://views.whatilearened.today/views/github/Smart4L/Smart4L.svg)](https://views.whatilearened.today/views/github/Smart4L/Smart4L.svg)
[![GitHub license](https://img.shields.io/github/license/smart4l/smart4l)](https://github.com/smart4l/smart4l/blob/master/LICENSE)


<!--
[![HitCount](http://hits.dwyl.com/Smart4L/Smart4L.svg)](http://hits.dwyl.com/Smart4L/Smart4L)
[![HitCount](http://hits.dwyl.com/smart4l/smart4l.svg)](http://hits.dwyl.com/smart4l/smart4l)
[![VisitorCount](https://visitor-badge.glitch.me/badge?page_id=Smart4L.Smart4L)](https://visitor-badge.glitch.me/badge?page_id=Smart4L.Smart4L)
[![ViewCount](https://views.whatilearened.today/views/github/Smart4L/Smart4L.svg)](https://views.whatilearened.today/views/github/Smart4L/Smart4L.svg)
-->

L'association RAID44L participe au 4LTrophy 2021 🏁, ses membres Jules PEGUET @Jaden37, Alexis LEGEAY @witrem et Clément BARANGER @cbarange sont tous les trois étudiants en informatique 👨‍🎓. L'occasion était trop belle, le projet Smart4L est né. L'objectif concevoir un système informatique embarqué dans la Renault 4L 🚗 pour suivre l'aventure de l'équipage. Au programme; télémétries GPS 🌍, prises de vues 📷, suivi des températures moteur 🌡, allumage à distance ⚡, gestion automatique de l'éclairage et de la ventilation 🛠 ...

Nous développons une solution opensource 👍, ce repository héberge les sources pour les mesures et l'affichage du système embarqué. Les autres repositories du projet sont des modules/api indépendant pour interagir avec les capteurs, n'hésiter pas à les utiliser pour vos projets 🙂.


## Sponsors

<!--![](https://www.societegenerale.com/sites/default/files/2018/societe-generale-logo.png =250)-->
<!-- <img alt="Société Generale chargement..." src="https://github.com/smart4l/smart4l/raw/master/doc/Sponsor/societe_generale.png" style="height: 7%;" />  -->
<div align="center">
  <img alt="Logo Société Generale chargement..." style="margin:0 40px" src="https://raw.github.com/smart4l/smart4l/master/doc/Sponsor/societe_generale.png" height="60px" /> 
  <img alt="Logo Dynamips chargement..." style="margin:0 40px" src="https://raw.github.com/smart4l/smart4l/master/doc/Sponsor/dynamips.jpg" height="85px" margin="50px"/> 
  <!-- file:///D:/Documents/epsi/workspace/Smart4L/Smart4L/ -->
</div>
<h3 align="center"> Soyez le prochain !</h3>



## Présentation

<!-- <img alt="Schema capteur chargement..." src="https://github.com/smart4l/smart4l/raw/master/doc/Schema_Smat4L-Schema_Smart4LCapteur.png" style="height: 80%;" /> -->
<!--![*Schema capteur chargement...*](https://github.com/smart4l/smart4l/raw/master/doc/Schema_Smat4L-Schema_Smart4LCapteur.png)-->
<!-- <img alt="Schema capteur chargement..." src="https://raw.github.com/smart4l/smart4l/master/doc/Schema_Smat4L-Schema_Smart4LCapteur.png" /> -->

<img alt="Build chargement..." src="https://raw.github.com/smart4l/smart4l/master/doc/Image_Schema/build_gif.gif" /> 

<!--  -->

## Données & Traitements

<!--![_Schema service chargement..._](https://github.com/smart4l/smart4l/raw/master/doc/Schema_Smat4L-Schema_Smart4LService.png)-->
<!-- <img alt="Schema service chargement..." src="https://github.com/smart4l/smart4l/raw/master/doc/Schema_Smat4L-Schema_Smart4LService.png" style="height: 80%;" /> -->
<img alt="Schema service chargement..." src="https://raw.github.com/smart4l/smart4l/master/doc/Schema_Smat4L-Schema_Smart4LService.png" />


Vous pouvez suivre la 4L n'importe où, les données sont envoyées sur un serveur via une connexion 4G. [raid44l.fr/smart4l](https://raid44l.fr/smart4l) 


## Maquettes

La 4L est équipée d'un Ipad2 pour afficher les données en temps réel, il est aussi possible d'accéder à la page web depuis un téléphone en se connectant au Wifi de la voiture. 

### Accueil

<!-- <iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="800" height="450" src="https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FrqgEGYUbpiQ6HuLgqxjAV4%2FSmart4L%3Fnode-id%3D29%253A17&chrome=DOCUMENTATION" allowfullscreen></iframe> -->

![_Maquette accueil chargement..._](https://raw.github.com/smart4l/smart4l/master/doc/Maquette/accueil.png)

### Carte 🗺

<!-- <iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="800" height="450" src="https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FrqgEGYUbpiQ6HuLgqxjAV4%2FSmart4L%3Fnode-id%3D37%253A113&chrome=DOCUMENTATION" allowfullscreen></iframe> -->
![_Maquette carte chargement..._](https://raw.github.com/smart4l/smart4l/master/doc/Maquette/carte.png)

### Caméras 📷

<!-- <iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="800" height="450" src="https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FrqgEGYUbpiQ6HuLgqxjAV4%2FSmart4L%3Fnode-id%3D11%253A13&chrome=DOCUMENTATION" allowfullscreen></iframe> -->
![_Maquette caméra chargement..._](https://raw.github.com/smart4l/smart4l/master/doc/Maquette/camera.png)

### Radar

<!-- <iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="800" height="450" src="https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FrqgEGYUbpiQ6HuLgqxjAV4%2FSmart4L%3Fnode-id%3D11%253A16&chrome=DOCUMENTATION" allowfullscreen></iframe> -->
![_Maquette radar chargement..._](https://raw.github.com/smart4l/smart4l/master/doc/Maquette/radar.png)

### Graphiques 📊

![_Maquette graphique en cours chargement..._](https://raw.github.com/smart4l/smart4l/master/doc/Maquette/graphique.png)

### Paramètres ⚙

<!-- <iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="800" height="450" src="https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FrqgEGYUbpiQ6HuLgqxjAV4%2FSmart4L%3Fnode-id%3D11%253A17&chrome=DOCUMENTATION" allowfullscreen></iframe> -->
![_Maquette paramètres chargement..._](https://raw.github.com/smart4l/smart4l/master/doc/Maquette/configuration.png)


## Fonctions

Mesures :  état du réseau, utilisation disque , températures 🌡 ext int moteur, humidités int ext, vitesse, régime moteur, niveaux batterie carburant, inclinaison, gps, consommation, photos 📷

Interactions : démarrage et arrêt de la voiture, enregistrement vidéo

Actions automatiques : allumage phares 🔅, allumage ventillateur, passage en vue radar de recul, arrêt du système lorsque la batterie est déchargée


<!-- Ancre utilisée dans le badge sprint  -->
<h2 id="sprint">Avancée</h2>

### Sprint 1

* [X] #Front - Structure du site 
* [X] #Front - Menu navigation
* [X] #Front - Page d'accueil, carte 🗺
* [X] #Back - Capteur température 🌡, distance, humidité
* [X] #Back - Caméra avant 📷
* [X] #Back - Api web

### Sprint 2

* [X] #Front - Page caméras 📷, paramètres ⚙
* [X] #Back - Capteur pression, accélération, luminosité
* [X] #Back - Base de données

### Sprint 3

* [X] #Front - Page radar, graphiques 📊
* [X] #Back - Capteur inclinaison
* [ ] #Back - Caméra arrière 📷

### Sprint 4

* [X] #Front - Site page https://raid44l.fr/#/follow
* [X] #Front - Affichage temps réel
* [X] #Back - Position GPS 🛰
* [ ] #Back - Capteur réservoir, régime moteur

### Sprint 5

* [ ] #Front - Automatisation éclairage 🔅, ventilation, radar de recul
* [X] #Back - Branchement au circuit électrique ⚡ de la voiture


## Capteurs

Le raspberry ne possédant pas de Convertisseur Analogique Numérique (CAN), les mesures sont faites avec des capteurs numériques.

* Température : DS18B20
* Température + Humidité : DHT11
* Accélération + Inclinaison : GY-61 ADXL345, GY-521 MPU-6050
* Pression + Température + Altitude : BMP280 
* Luminosité : Photo-résistance WYTP10
* Distance : HC-SR04
* Courant(Niveau batterie) : INA219
* Module de charge : TC4056
* Boost : MT3608 
* Bucks : MP1584EN
* Batterie : 18650 5000mah
* Caméra avant : SC0261
* Caméra arrière : OV5647 5MP 1080p
* Clé 4G / GPS : SIM7600G-H


## Alimentation Électrique ⚡

Une carte raspberry Pi 3B ou raspberry Pi 3A doit être alimentée en 5v 1.5A dans des conditions nominales, la consommation réelle d'une carte pendant un enregistrement vidéo 1080p est de 520mA. Il faut aussi prendre en compte les comportements du CPU, notamment lors de l'utilisation du Wifi et des périphériques externes. La voiture devrait rouler entre 8 et 16 heures par jour, les batteries doivent pouvoir alimenter le système pendant les 16 heures restantes. L'alimentation est assurée par dix accumulateurs Li-ION 18650 🔋 d'une capacité de 5 000mAh pour 3.7V. Les deux cartes représentant une consommation moyenne de 1.2A, il faut que la batterie dispose d'une capacité minimale de 16h * 1.2A * 5V / 3.7V = 26 Ah. Notre batterie de 50Ah est suffisante, elle sera rechargée par l'alternateur de la voiture.


## Nous suivre

🌐 👉 [raid44l.fr](https://raid44l.fr/)

🐦 👉 [@Raid_44l](https://twitter.com/Raid_44l)


## License

> MIT : Le projet est complètement open-source et libre, utilisez nos sources dans vos projets 🤗
